\documentclass[a4paper,10pt]{article}
\usepackage[utf8]{inputenc}

%opening
\title{Proyecto T\'ecnico de Red de Datos Corporativa}
\author{}
\date{}

\begin{document}

\maketitle


\section{Memoria Descriptiva.}
\subsection{Datos generales.}
\subsubsection{Datos del promotor.}
\begin{itemize}
 \item Nombre:
 \item Domicilio:
 \item CIF:
 \item Población:
 \item Teléfono:
\end{itemize}

\subsubsection{Objeto del proyecto.}
El objetivo del proyecto es llevar a cabo la red de datos de la planta E2 y de los laboratorios 
de la Escuela Superior de Ingenieros de la Universidad de Sevilla. Además de la red de datos, 
se preveé la dotación de la red de VoIP, así como la de videovigilancia IP.
\subsubsection{Descripción del edificio o complejo urbano.}
El edificio sobre el cual se va a realizar la instalación se encuentra situado en el Camino de los
Descubrimientos s/n. La edificación en cuestión consta de planta baja más un sótano, junto con un
edificio de laboratorios que se encuentra, aproximadamente a 200m.

La planta baja consta de los departamentos de Telemática, Teoría de la Señal y Comunicaciones, 
Ingeniería Electrónica e Ingeniería de Sistemas y Automática. Además está equipada con una serie de
aulas y con el Centro de Cálculo, formando por despachos y aulas informáticas.

La función única del sótano es albergar los equipos que posibiliten la comuninación con el exterior
de la red objeto de este proyecto. El uso del edificio de laboratorios está destinado a los
departamentos de Telemática y de Teoría de la Señal y Telecomunicaciones.

En la siguiente tabla se resume la división que se hace de la ESI junto con los terminales que se pretenden instalar.

\begin{tabular}{|c|c|}
\hline   & \textbf{Terminales} \\ 
\hline  Telemática & 30 \\ 
\hline  Señales & 30 \\ 
\hline  Automática & 28 \\ 
\hline  Electrónica & 56 \\ 
\hline  VoIP & 199 \\ 
\hline  WIFI & 10 \\ 
\hline  Laboratorios Señal & 25 \\ 
\hline  Laboratorios Telemática & 30 \\ 
\hline  Servidores & 9 \\ 
\hline  Personal Admin y Servicios & 5 \\ 
\hline  CDC/despachos & 32 \\ 
\hline  CDC/aulas & 110 \\ 
\hline 
\end{tabular} \\ \\


\subsection{Dimensionamiento}
A la hora de estimar el tráfico de la red con el fin de dimensionar los enlaces de datos, se decide emplear el modelo ON/OFF para modelar el comportamiento de los terminales de red, exceptuando los terminales VoIP.

En primer lugar hay que definir el perfil de comportamiento de los usuarios de cara al protocolo empleado. Dicho perfil se resume en la siguiente tabla a partir de los porcentajes de uso de los protocolos en uso.\\

\begin{tabular}{|c|c|c|c|c|}
\hline 
Sector & HTTP & FTTP & POP3/SMTP & Impresión \\ 
\hline 
Departamentos & 30\% & 20\% & 10\% & 10\% \\ 
\hline 
Aulas  & 10\% & 10\% & 0\% & 0\% \\ 
\hline 
Laboratorios & 10\% & 10\% & 0\% & 0\% \\ 
\hline 
Secretarías & 20\% & 40\% & 5\% & 3\% \\ 
\hline 
CDC(Despachos) & 30\% & 20\% & 10\% & 10\% \\ 
\hline 
CDC(Aulas) & 30\% & 20\% & 10\% & 0\% \\ 
\hline 
\end{tabular}\\

Hay que tener en cuenta que el modelo ON/OFF establece la tasa de rendimiento de una fuente a partir de:
\begin{equation}
	\rho=\frac{Ton}{Ton+Toff}
\end{equation}

\subsubsection{Enlace Descendente}
El comportamiento de los protocolos en cuanto tiempo, tamaño y régimenes binarios se detalla en la siguiente tabla:\\

\begin{tabular}{|c|c|c|c|c|c|}
\hline 
Protocolo & Ton(s) & Toff(s) & Tamaño(MB) & Rb(Mbps) & rho \\ 
\hline 
HTTP & 3 & 57 & 1.25 & 3.333 & 0.0515  \\ 
\hline 
POP3/SMTP & 2 & 58 & 0.3 & 1.2 & 0.033 \\ 
\hline 
TFTP & 15 & 285 & 4 & 2.133 & 0.0519 \\ 
\hline 
Impresión & 2 & 5 & 0.5 & 2 & 0.285 \\ 
\hline 
\end{tabular}\\ 

Hay que tener en cuenta que este tráfico representa una parte del tráfico TCP, ya que se han considerado únicamente los protocolos más empleados. Por lo tanto,también es necesario añadir el tráfico UDP que proviene de aplicaciones multimedia.

Una vez obtenido el tráfico de acuerdo con los porcentajes de uso de los distintos protocolos, es necesario obtener el número de usuarios que, simultáneamente, estarán haciendo uso de la red de datos.



\subsubsection{Enlace Ascendente}
De manera análoga al enlace descendente se establecen los siguientes requerimientos:\\

\begin{tabular}{|c|c|c|c|c|c|}
\hline 
Protocolo & Ton(s) & Toff(s) & Tamaño(MB) & Rb(Mbps) & rho \\ 
\hline 
HTTP & 3 & 57 & 0.02 & 0.053 & 0.0515 \\ 
\hline 
POP3/SMTP & 2 & 58 & 0.3 & 1.2 & 0.033 \\ 
\hline 
TFTP & 15 & 285 & 0.4 & 1.066 & 0.0519 \\ 
\hline 
Impresión & 2 & 5 & 0.5 & 2 & 0.285 \\ 
\hline 
\end{tabular}\\

Haciendo las consideraciones sobre el tráfico TCP y UDP, y siguiendo el mismo procedimiento que con el enlace descendente se tiene que:
u
\subsubsection{Telefon\'ia IP}
\subsection{Configuraci\'on}
El proceso de configuración consiste en:
\begin{enumerate}
	\item Asignaci\'on din\'amica de las VLAN a los hosts.
	\item Listas ACL en el router.
	\item IPsec en el router.
	\item Tablas NAT en el router.
\end{enumerate}
\subsubsection{VLAN}
Para el direccionamiento se preveen tanto direcciones privadas como públicas. Las IP públicas en el caso de los departamentos e IP privadas para el resto de la Escuela. En la tabla se resumen los rangos de direcciones a utilizar.\\ \\
\begin{tabular}{|c|c|c|c|}
\hline \textbf{Direccionamiento público} & IP & Terminales & Sobredimensionado \\ 
\hline Telemática & 193.147.160.0/26 & 30 & 6 \\ 
\hline Teoría de la Señal & 193.147.160.36/26 & 30 & 6 \\ 
\hline Automática & 193.147.160.72/26 & 28 & 6 \\ 
\hline Electrónica & 193.147.160.138/25  & 56 & 10 \\ 
\hline Servidores & 193.147.160.204/28 & 9 & 2 \\ 
\hline 
\end{tabular} \\ \\

En el caso de los servidores se tiene uno por cada departamento, dedicado a tareas de impresión e intercambio de archivos, y los que se encuentran en el Centro de Cálculo que son:
\begin{itemize}
	\item Servidor Web
	\item Base de datos (acceso exclusivo Servidor Web)
	\item Servidor Proxy
	\item Servidor VoIP
	\item Servidor VideoIP
\end{itemize}
\begin{tabular}{|c|c|c|c|}
\hline  \textbf{Direccionamiento Privado} & IP & Terminales & Sobredimensionado \\ 6
\hline  CDC/Despachos & 172.16.0.0/27 & 32 & 4 \\ 
\hline  CDC/Aulas & 172.16.0.3/25 & 110 & 20 \\ 
\hline  VoIP & 172.16.0.166/24 & 199 &  20 \\ 
\hline  VideoIP & 172.16.1.128/27 & 18 & 4 \\ 
\hline  Lab Teoría Señal & 172.16.1.150/27 & 25 & 5 \\ 
\hline  Aulas & 172.16.1.180/27 & 71 & 14 \\ 
\hline  Lab Telemática & 172.16.2.9/27 & 30 & 6 \\ 
\hline  Servidores & 172.16.2.45/28 & 9 & 2 \\ 
\hline  WIFI & 172.16.2.56/28 & 10 & 2 \\ 
\hline  Administración y Servicios & 172.16.2.68/29 & 5 & 2 \\ 
\hline 
\end{tabular}\\ \\
Para la configuración de las VLAN hay que decidir entre una configuración estática o una configuración dinámica. Atendiendo a razones de simplicidad en la administración se decide implementar VLAN dinámicas.

En este caso, las VLAN dinámicas son puertos del switch que automáticamente determinan a que VLAN pertenece cada puesto de trabajo. El funcionamiento de estas VLANs se basa en las direcciones MAC, direcciones lógicas o protocolos utilizados.

Cuando un puesto de trabajo pide autorización para conectarse a la VLAN el switch chequea la dirección MAC ingresada previamente por el administrador en la base de datos de las mismas y automáticamente se configura el puerto al cual corresponde por la configuración de la VLAN. 
El mayor beneficio de las VLAN dinámicas es el menor trabajo de administración dentro del armario de comunicaciones cuando se cambian de lugar las estaciones de trabajo o se agregan y también notificación centralizada cuando un usuario desconocido pretende ingresar en la red.
\subsubsection{Listas de Control de Acceso}
Las listas de control de acceso, o ACL, son listas de condiciones que se aplican al tráfico que viaja a través de la interfaz del router.
Estas listas indican al router qué tipo de paquetes aceptar o rechazar en base a las condiciones establecidas en ellas y que permiten la administración del tráfico y aseguran el acceso, bajo esas condiciones, hacia y desde una red.
La aceptación y rechazo se pueden basar en la dirección origen, dirección destino, protocolo de capa superior y números de puerto.

En definitiva, una lista de control de acceso es un conjunto de sentencias que define cómo se procesan los paquetes que: 
\begin{itemize}
	\item Entran a las interfaces de entrada. 
    \item Se reenvían a través del router. 
    \item Salen de las interfaces de salida del router. 
\end{itemize}
    

En necesario tener en cuenta que si las ACL no están configuradas en el router, todos los paquetes que pasen a través del router tendrán acceso a todas las partes de la red.
Las ACL se pueden configurar por protocolo, por dirección y por interfaz, entonces: 
\begin{itemize}
	\item Por protocolo: 
	
	Para controlar el flujo de tráfico de una interfaz, se debe definir una ACL para cada protocolo habilitado en la interfaz. 
    \item Por dirección: 
    
    Las ACL controlan el tráfico en una dirección a la vez de una interfaz. Deben crearse dos ACL por separado para controlar el tráfico entrante y saliente. 
    \item Por interfaz: 
    
    Las ACL controlan el tráfico para una interfaz, por ejemplo, Fast Ethernet 0/0.
\end{itemize}
Además, las ACL no actúan sobre paquetes que se originan en el mismo router, y se tienen que ser configuradas para que se puedan aplicadar al tráfico de entrada o de salida.
\begin{itemize}
	\item Tráfico entrante: 
	
	Los paquetes entrantes se procesan antes de ser enrutados a la interfaz de salida. 
    \item Tráfico saliente:
    
    Los paquetes entrantes se enrutan a la interfaz de salida y luego son procesados a través de la ACL de salida. 
\end{itemize}
    


En resumen, los objetivos que se persiguen con la creación de ACL son:
\begin{itemize}
	\item Limitar el tráfico de red y mejorar el rendimiento de la red.
    \item Controlar el flujo del tráfico.
    \item Proporcionar un nivel básico de seguridad para el acceso a la red. 
    \item Establecer qué tipo de tráfico se envía o se bloquea en las interfaces del router. 
    \item Otorgar o denegar permiso a los usuarios para acceder a ciertos tipos de archivos.
\end{itemize}
Finalmente, el proceso de funcionamiento de las listas de control de acceso (ACL) es el siguiente:
\begin{enumerate}
	\item Cuando entra una trama a través de una interfaz, el router verifica si la dirección de capa 2 (MAC) concuerda o si es una trama de broadcast. 
    \item Si se acepta la dirección de la trama, la información de la trama se elimina y el router busca una ACL en la interfaz entrante. 
    \item Si existe una ACL se comprueba si el paquete cumple las condiciones de la lista. 
    \item Si el paquete cumple las condiciones, se ejecuta la acción de aceptar o rechazar el paquete. 
    \item Si se acepta el paquete en la interfaz, se compara con las entradas de la tabla de enrutamiento para determinar la interfaz destino y conmutarlo a aquella interfaz. Luego el router verifica si la interfaz destino tiene una ACL.
    \item Si existe una ACL, se compara el paquete con las sentencias de la lista y si el paquete concuerda con una sentencia, se acepta o rechaza el paquete según se indique. 
    \item Si no hay ACL o se acepta el paquete, el paquete se encapsula en el nuevo protocolo de capa 2 y se envía por la interfaz hacia el dispositivo siguiente.
\end{enumerate}

\subsection{Cableado}
La conexión de los diferentes equipos por todo el edificio se 
hará mediante cables UTP categoría 6, 4 pares LSZH.
La elección de este tipo de cableado se justifica en que al  emplear tecnología Gigabit Ethernet, es necesario elegir cables UTP de categoría 6 o superior. El problema que surge al emplear cables UTP reside en que no se pueden sobrepasar los 100m de distancia máxima, por lo que ningún enlace podrá superar dicha medida.
\subsubsection{Distancias}
\subsubsection{Rosetas}
\subsubsection{Canaletas y Bandejas Portacables}
Para el desplazamiento de los cables se utilizarán tanto canaletas horizontales, verticales como bandejas portacables (por los falsos techos existentes). Para saber cuántos metros de canaletas y bandejas usar, lo primero será saber el número de cables UTP-CAT6 que cabrán dentro de estos materiales. Habrá que tener en cuenta para ello que el diámetro exterior del cable UTP-CAT6 es aproximadamente 6mm.
Con respecto a las canaletas se pueden recurrir a las de 60X40mm, que es lo más usado actualmente. Así que se supondrán siete cables UTP por canaleta.
En el caso de las bandejas portacables se colocarán tres de ellas, dos de ellas para el transporte de cables y una más por razones de escalabilidad.
Las canaletas se emplearán para llevar los cables al falso suelo o al falso techo.
Hay que multiplicar por tres debido a que existen tres bandejas para el trasnporte.
\subsubsection{Otros elementos}

\section{Planos.}
\section{Pliego de Condiciones.}
\subsection{Condiciones particulares.}
\subsubsection{Protocolos empleados}
En el Nivel Físico (primera capa del modelo OSI), los estándares para la interconexión de los switches con los terminales y para conectar los switches de las plantas con  los servidores del sótano van a ser
802.3x, concretamente:
\begin{itemize}
	\item 100BaseT (802.3u): Para los enlaces entre equipos terminales y switches.
	\item 1000BaseX (802.3z): Para los enlaces troncales.
\end{itemize}
 
Hoy en día, el término Ethernet se utiliza para referirse a la norma IEEE 802.3. Es un estándar de redes de área local para computadores con acceso al medio por contienda (CSMA/CD). Define las características de cableado y señalización de nivel físico y los formatos de tramas de datos del nivel de enlace de datos del modelo OSI.

El \textit{Nivel de Enlace de Datos} (segunda capa), se ocupa del direccionamiento físico, del acceso al medio, de la detección de errores, de la distribución ordenada de tramas y del control del flujo. 
 

\textbf{STP(IEEE 802.1d):} Es por excelencia el protocolo más usado para la eliminación lógica de líneas redundantes en las infraestructuras utilizadas en la red. 

La redundancia se logra teniendo varios enlaces físicos entre los switches, de forma que queden varios caminos para llegar a un mismo destino. El resultado de esto es que la red LAN queda con ciclos o bucles; los ciclos son altamente perjudiciales para la misma dado que producen una serie de problemas que acabarán por dejarla inutilizada.

STP surge ante la necesidad de tener una red LAN redundante y dinámica libre de los problemas asociados a esta.  Está basado en un algoritmo diseñado por Radia Perlman, y existen múltiples variantes debido al tiempo que tarda en converger.  Como son:
\begin{itemize}
	\item\textit{ MSTP(IEEE 802.1s) (Multiple spanning-tree Protocol):} Provee de conectividad simple y completa a las tramas asignada a cualquier VLAN de una red local por lo que permite utilizar caminos separados a las tramas pertenecientes a diferentes VLAN, utilizando instancias independiente. 
	Resulta más eficiente ya que tiene balanceo de tráfico y por otro lado si un enlace cae aprovecha mucho mejor la redundancia.
	\item \textit{RSTP(IEEE 802.1w) (Rapid spanning-tree Protocol):} Reduce significativamente el tiempo de convergencia de la topología de la red cuando ocurre un cambio en la misma. 
	El puerto se configura como tal cuando se sabe que nunca será conectado hacia otro switch de manera que pasa inmediatamente al estado de direccionamiento sin esperar los pasos intermedios del algoritmo, etapas de escucha y aprendizaje, los cuales consumen tiempo.
\end{itemize}

\textbf{HDLC:} El protocolo HDLC (control de alto nivel del enlace de datos; es un protocolo propuesto por OSI basado en el protocolo SDLC (control de enlace de datos síncrono). 
Organizaciones de estándares han dado su propia versión del HDLC acomodado a las aplicaciones concretas para las que se desea utilizar.
El red objeto del proyecto hace uso de LLC y PPP.
\begin{itemize}
	\item \textit{PPP:} permite establecer una comunicación a nivel de la capa de enlace    TCP/IP entre dos computadoras. Facilita dos funciones importantes:
	\begin{enumerate}
		\item Autenticación. Generalmente mediante una clave de acceso.
		\item Asignación dinámica de IP.
	\end{enumerate}
	\item \textit{LLC:} define la forma en que los datos son transferidos sobre el medio físico, proporcionando servicio a las capas superiores. 
	Responsable del control de enlace lógico, maneja el control de errores, control del flujo, entramado, control de diálogo y direccionamiento de la subcapa MAC. El protocolo LLC más generalizado es IEEE 802.2
\end{itemize}
La tercera capa o Nivel de Red, es la encargada de efectuar el transporte de los datos de la máquina origen a la de destino, independizándolos del tipo de red física que esté utilizando. Sus protocolos son:
\begin{itemize}
	\item IP:  Su función principal es el uso bidireccional en origen o destino de comunicación para transmitir datos mediante un protocolo no orientado a conexión que transfiere paquetes conmutados tanto a nivel local como a través de redes. 
	Las cabeceras IP contienen las direcciones de las máquinas de origen y destino, direcciones que serán usadas por los conmutadores y los routers para decidir el tramo de red por el que reenviarán los paquetes. Quizás los aspectos más complejos de IP son:
	\begin{enumerate}
	\item Direccionamiento: se refiere a la forma como se asigna una dirección IP y cómo se dividen y se agrupan subredes de equipos.
	\item Encaminamiento o enrutamiento: mecanismo por el que en una red los paquetes de información se hacen llegar desde su origen a su destino final, siguiendo un camino o ruta a través de la red.
	\end{enumerate}
\end{itemize}
En el cuarto nivel o Nivel de Transporte, encargado de la transferencia libre de errores de los datos entre el emisor y el receptor (aunque no estén directamente conectados), y de mantener el flujo de la red, se encuentran dos protocolos principales:
\begin{itemize}
	\item UDP: Protocolo no orientado a conexión, permite el envío de datagramas a través de la red sin que se haya establecido previamente una conexión. Tampoco tiene confirmación ni control de flujo, por lo que los paquetes pueden adelantarse unos a otros; no se sabe si ha llegado correctamente, ya que no hay confirmación de entrega o recepción. 
	Su uso principal es para protocolos como DHCP, BOOTP, DNS.
	\item TCP: Protocolo orientado a conexión, controla la transmisión de datos durante una comunicación establecida entre dos máquinas. Garantiza que los datos serán entregados en su destino sin errores y en el mismo orden en que se transmitieron. 
	También proporciona un mecanismo para distinguir distintas aplicaciones dentro de una misma máquina, a través del concepto de puerto. Da soporte a muchas de las aplicaciones más populares de Internet y protocolos de aplicación HTTP, SMTP, SSH y FTP.
\end{itemize}
El Nivel de Aplicación ofrece a las aplicaciones la posibilidad de acceder a los servicios de las demás capas y define los protocolos que utilizan las aplicaciones para intercambiar datos. En esta capa aparecen diferentes protocolos y servicios:
\begin{enumerate}
	\item HTTP: RFC 2616 

Utilizado para el acceso, visualización y navegación Web, permite la transferencia de archivos (principalmente, en formato HTML) entre un navegador (el cliente) y un servidor web localizado mediante una cadena de caracteres denominada dirección URL. 
	\item SMTP: RFC 2821 

Protocolo para la transferencia simple de correo electrónico, basado en texto, utilizado para el intercambio de mensajes de correo electrónico entre ordenadores u otros dispositivos.
	\item SSH: 

Intérprete de órdenes segura, es el nombre de un protocolo y del programa que lo implementa. Sirve para acceder a máquinas remotas a través de una red. Permite manejar por completo el ordenador mediante un intérprete de comandos, y también puede redirigir el tráfico de X para poder ejecutar programas gráficos si tenemos un Servidor X corriendo.
	\item FTP:  

Protocolo de transferencia de archivos entre sistemas conectados a una red TCP , basado en la arquitectura cliente-servidor. 
\end{enumerate}
\subsection{Condiciones generales.}
\section{Presupuesto.}

\end{document}
